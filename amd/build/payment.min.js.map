{"version":3,"file":"payment.min.js","sources":["../src/payment.js"],"sourcesContent":["import Notification from 'core/notification';\n\nconst processPayment = async(gateway, component, paymentArea, itemId, description) => {\n    const paymentMethod = await import(`paygw_${gateway}/gateways_modal`);\n    return paymentMethod.process(component, paymentArea, itemId, description);\n};\n\nexport const init = (gateway, component, paymentArea, itemId, successUrl, description) => {\n    if (!init.initialised) {\n        init.initialised = true;\n\n        processPayment(gateway, component, paymentArea, itemId, description)\n            .then((message) => {\n                Notification.addNotification({\n                    message,\n                    type: 'success',\n                });\n\n                setTimeout(() => {\n                    location.href = successUrl;\n                }, 2000);\n\n                return;\n            })\n            .catch((message) => {\n                Notification.alert('', message.message);\n            });\n    }\n};\n\n/**\n * Whether the init function was called before.\n *\n * @static\n * @type {boolean}\n */\ninit.initialised = false;\n"],"names":["init","gateway","component","paymentArea","itemId","successUrl","description","initialised","async","process","processPayment","then","message","addNotification","type","setTimeout","location","href","catch","alert"],"mappings":"+YAOaA,KAAO,CAACC,QAASC,UAAWC,YAAaC,OAAQC,WAAYC,eACjEN,KAAKO,cACNP,KAAKO,aAAc,EAPJC,OAAMP,QAASC,UAAWC,YAAaC,OAAQE,qPACtBL,sUAAAA,sGAAAA,+BACvBQ,QAAQP,UAAWC,YAAaC,OAAQE,aAOzDI,CAAeT,QAASC,UAAWC,YAAaC,OAAQE,aACnDK,MAAMC,gCACUC,gBAAgB,CACzBD,QAAAA,QACAE,KAAM,YAGVC,YAAW,KACPC,SAASC,KAAOZ,aACjB,QAINa,OAAON,gCACSO,MAAM,GAAIP,QAAQA,iCAW/CZ,KAAKO,aAAc"}