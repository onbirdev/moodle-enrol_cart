{"version":3,"file":"instance.min.js","names":["b","a","__esModule","default","showPayable","payable","html","currencyName","$","text","toLocaleString","calcPayable","cost","val","discountType","discountAmount","toggleDiscountAmount","attr","init","document","on"],"sources":["../src/instance.js"],"sourcesContent":["import $ from 'jquery';\n\nconst showPayable = (payable) => {\n    let html = '<span class=\"bold text-danger\">--</span>';\n    const currencyName = $('#id_currency option:selected').text();\n\n    if (typeof payable === 'number' && payable >= 0) {\n        html =\n            '<span class=\"currency bold text-success\"><span>' +\n            currencyName +\n            '</span> &nbsp;' +\n            payable.toLocaleString() +\n            '</span>';\n    }\n\n    $('#fitem_id_payable .form-control-static').html(html);\n};\nconst calcPayable = () => {\n    let cost = $('#id_cost').val();\n    const discountType = Number($('#id_customint1').val());\n    let discountAmount = Number($('#id_customchar1').val());\n    let payable = '';\n\n    if ((cost = Number(cost))) {\n        if (!discountType) {\n            payable = cost;\n        }\n\n        if (discountType === 10 && discountAmount >= 0 && discountAmount <= 100) {\n            discountAmount = (discountAmount * cost) / 100;\n            payable = cost - discountAmount;\n        }\n\n        if (discountType === 20 && cost >= discountAmount) {\n            payable = cost - discountAmount;\n        }\n    }\n\n    showPayable(payable);\n};\n\nconst toggleDiscountAmount = () => {\n    const discountType = $('#id_customint1').val();\n    if (discountType == 10 || discountType == 20) {\n        $('#id_customchar1').attr('disabled', false);\n    } else {\n        $('#id_customchar1').attr('disabled', true);\n    }\n};\n\nexport const init = () => {\n    $(document).on('change', '#id_customint1', toggleDiscountAmount);\n    $(document).on('change', '#id_cost, #id_customint1, #id_customchar1', calcPayable);\n    $(document).on('keyup', '#id_cost, #id_customchar1', calcPayable);\n\n    toggleDiscountAmount();\n    calcPayable();\n};\n"],"mappings":"6IAAAA,CAAA,UAAAA,EAAAC,CAAA,SAAAA,CAAA,EAAAA,CAAA,CAAAC,UAAA,CAAAD,CAAA,EAAAE,OAAA,CAAAF,CAAA,GAAAD,CAAA,EAAuB,KAEjB,CAAAI,CAAW,CAAIC,CAAO,EAAK,CAC7B,GAAI,CAAAC,CAAI,CAAG,4CAA0C,CACrD,KAAM,CAAAC,CAAY,CAAG,GAAAC,SAAC,EAAC,8BAA8B,CAAC,CAACC,IAAI,EAAE,CAE7D,GAAuB,QAAQ,EAA3B,MAAO,CAAAJ,CAAoB,EAAe,CAAC,EAAZA,CAAY,CAAE,CAC7CC,CAAI,CACA,mDAAiD,CACjDC,CAAY,CACZ,gBAAgB,CAChBF,CAAO,CAACK,cAAc,EAAE,CACxB,SACR,CAEA,GAAAF,SAAC,EAAC,wCAAwC,CAAC,CAACF,IAAI,CAACA,CAAI,CACzD,CAAC,CACKK,CAAW,CAAGA,CAAA,GAAM,CACtB,GAAI,CAAAC,CAAI,CAAG,GAAAJ,SAAC,EAAC,UAAU,CAAC,CAACK,GAAG,EAAE,CAC9B,KAAM,CAAAC,CAAY,EAAU,GAAAN,SAAC,EAAC,gBAAgB,CAAC,CAACK,GAAG,EAAG,CAAC,GACnD,CAAAE,CAAc,EAAU,GAAAP,SAAC,EAAC,iBAAiB,CAAC,CAACK,GAAG,EAAG,CACnDR,CAAO,CAAG,EAAE,CAEhB,GAAKO,CAAI,EAAUA,CAAK,CAAG,CACvB,GAAI,CAACE,CAAY,CAAE,CACfT,CAAO,CAAGO,CACd,CAEA,GAAqB,EAAE,GAAnBE,CAAmB,EAAsB,CAAC,EAAnBC,CAAmB,EAAsB,GAAG,EAArBA,CAAqB,CAAE,CACrEA,CAAc,CAAIA,CAAc,CAAGH,CAAI,CAAI,GAAG,CAC9CP,CAAO,CAAGO,CAAI,CAAGG,CACrB,CAEA,GAAqB,EAAE,GAAnBD,CAAmB,EAAIF,CAAI,EAAIG,CAAc,CAAE,CAC/CV,CAAO,CAAGO,CAAI,CAAGG,CACrB,CACJ,CAEAX,CAAW,CAACC,CAAO,CACvB,CAAC,CAEKW,CAAoB,CAAGA,CAAA,GAAM,CAC/B,KAAM,CAAAF,CAAY,CAAG,GAAAN,SAAC,EAAC,gBAAgB,CAAC,CAACK,GAAG,EAAE,CAC9C,GAAoB,EAAE,EAAlBC,CAAkB,EAAoB,EAAE,EAAlBA,CAAkB,CAAE,CAC1C,GAAAN,SAAC,EAAC,iBAAiB,CAAC,CAACS,IAAI,CAAC,UAAU,IACxC,CAAC,IAAM,CACH,GAAAT,SAAC,EAAC,iBAAiB,CAAC,CAACS,IAAI,CAAC,UAAU,IACxC,CACJ,CAAC,CAAAhB,CAAA,CAAAiB,IAAA,CAEmB,IAAM,CACtB,GAAAV,SAAC,EAACW,QAAQ,CAAC,CAACC,EAAE,CAAC,QAAQ,CAAE,gBAAgB,CAAEJ,CAAoB,CAAC,CAChE,GAAAR,SAAC,EAACW,QAAQ,CAAC,CAACC,EAAE,CAAC,QAAQ,CAAE,2CAA2C,CAAET,CAAW,CAAC,CAClF,GAAAH,SAAC,EAACW,QAAQ,CAAC,CAACC,EAAE,CAAC,OAAO,CAAE,2BAA2B,CAAET,CAAW,CAAC,CAEjEK,CAAoB,EAAE,CACtBL,CAAW,EACf,CAAC"}